<!DOCTYPE html>
<!--
    File: index.html
    Created on: August 3, 2021
    GUI Assignment: HW4: Validation plugin
    Description: File contains all the data for the creation of the multiplication table. It also uses javascript
    to use fill the table. Added JQuery validation plugin to deal with user errors.

    DISCLAIMER: Most of this code was obtained by reading w3schools.com tutorials. All the use of JQuery implementation was done using
    https://jqueryvalidation.org/ documentation.

    Rodrigo Choque Cardenas, UMass Lowell Computer Science, rodrigo_choquecardenas@student.uml.edu
    Updated by RCC on August 1, 2021 at 1:01AM
-->
<html>
<head>
    <meta charset="utf-8">
    <title>Multiplication Table App</title>
    <!--Linking my .css file to this html file-->
    <link rel="stylesheet" type="text/css" href="css/mystyle.css">

</head>
<body>
    <div id="wrapper">
        <!--Instruction label-->
        <label id="instr">Enter an integer between -50 to 50 for each axis limit.</label>
        <!--The "return false" prevents form from submitting and refreshing the page-->
        <form id="rangeValuesForm" onsubmit="return false">
            <!--Form with 4 fields. Each one with its respective label and input box-->
            <div>
                <label>X-Axis Lower limit</label>
                <!--Each input box is of type number, so it will only allow numeric charactes-->
                <!--Each input box is required to be filled, else it will be invalid-->
                <input type="number" id="xlower" name="xlower" />
            </div>
            <div>
                <label>X-Axis Upper limit</label>
                <input type="number" id="xupper" name="xupper" />
            </div>
            <div>
                <label>Y-Axis Lower limit</label>
                <input type="number" id="ylower" name="ylower" />
            </div>
            <div>
                <label>Y-Axis Upper limit</label>
                <input type="number" id="yupper" name="yupper" />
            </div>
            <!--button than activates the event by using the javascrip funciton-->
            <!--I deleted the onclick event from my previous homework. Instead I will handle the event on my valueForm.js file-->
            <input class="submit" type="submit" value="Create Table" />
        </form>

    </div>
    <div id="table"></div>


    <script>
        /*
         * This is the same as HW3 (including the comments) except that I erased all error handlers and error messages.
         * This function builds the table
         */
        function obtainValues() {

            /*Obtaining string values from the input boxes*/
            var xL = document.getElementById("xlower").value;
            var xU = document.getElementById("xupper").value;
            var yL = document.getElementById("ylower").value;
            var yU = document.getElementById("yupper").value;

            /*Spend two hours on these next 4 lines. For some reason the .value function returns a string
             * even if the type of inputbox is specified as a number.
             * The worst thing was that the xL, xU, yL, yU variables DID worked on the "for" loops;
             * but it was compairing the string value and not the numerical value.
             * For example, if my horizontal values went from 1 to 10, it'd work, but when
             * it went from 2 to 10, it didn't. It took me many tests to notice the pattern :(
             * I got the tutorial on how to obtain a value from an input box from w3schools, but
             * nowhere is mentioned that if you plan to use numbers, you must convert them into numbers first
             * sigh...very fustrating :P */
            var xLower = parseInt(xL);
            var yLower = parseInt(yL);
            var xUpper = parseInt(xU);
            var yUpper = parseInt(yU);

            createTable(xLower, xUpper, yLower, yUpper);
        }
        /**
         * Function requires four parameters to build table
         * @param xLower lower bound of x axis
         * @param xUpper upper bound of x axis
         * @param yLower lower bound of y axis
         * @param yUpper upper bound of y axis
         * To build the table I chose between two options:
         * Use js functions like createElement() to build html object, but it was becoming to clustered
         * Use concatanation and a string to simply concatanate html tags, this was easier and way shorter
         */
        function createTable(xLower, xUpper, yLower, yUpper) {

            var table = "<table border = '1'>";

            /*Fill table horizontal header*/
            table += "<tr id='headRow'>" + "<td>" + "*" + "</td>";
            for (var i = xLower; i <= xUpper; i++) {
                table += "<td>" + i + "</td>";
            }
            table += "</tr>"

            /*Here we start filling each row. First with the corresponding vertical header value
             and then with the multiplication between the current x and y axis values*/
            for (var j = yLower; j <= yUpper; j++) {
                /*Start of each row*/
                table += "<tr>";
                table += "<td>" + j + "</td>";
                for (var i = xLower; i <= xUpper; i++) {
                    /*Add each value to the respective row*/
                    var value = i * j;
                    table += "<td>" + value + "</td>";
                }
                /*End of each row*/
                table += "</tr>";
            }
            /*We add the last tag and add the table to the div with id = table*/
            table += "</table>";
            document.getElementById("table").innerHTML = table;

        }
                /*Function notifies of invalid range error. Table is not created
     */


    </script>

    <!--Adding jquery and the validation plugin to my html file-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/jquery.validate.js"></script>
    <!--js file that containts the handling of my form using jquery-->
    <script src="js/valueForm.js"></script>



</body>
</html>