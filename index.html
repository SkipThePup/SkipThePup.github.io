<!DOCTYPE html>
<!--
    File: index.html
    Created on: July 28, 2021
    GUI Assignment: HW3: Creating a dynamic interacting table
    Description: File contains all the data for the creation of the multiplication table. It also uses javascript
    to use fill the table and deal with user errors.

    DISCLAIMER: Most of this code was obtained by reading w3schools.com tutorials, unless noted

    Rodrigo Choque Cardenas, UMass Lowell Computer Science, rodrigo_choquecardenas@student.uml.edu
    Updated by RCC on August 1, 2021 at 1:01AM
-->
<html>
<head>
    <meta charset="utf-8">
    <title>Multiplication Table App</title>
    <!--Linking my .css file to this html file-->
    <link rel="stylesheet" type="text/css" href="css/mystyle.css">
</head>
<body>
    <div id="wrapper">
        <!--Instruction label-->
        <label id="instr">Enter an integer between -50 to 50 for each axis limit. <br /><span class="warning">Warning: </span>Larger numbers are allowed, but it may take some time to create table.</label>
        <form>
            <!--Form with 4 fields. Each one with its respective label and input box-->
            <div>
                <label>X-Axis Lower limit</label>
                <!--Each input box is of type number, so it will only allow numeric charactes-->
                <!--Each input box is required to be filled, else it will be invalid-->
                <input type="number" id="xlower" required/>
            </div>
            <div>
                <label>X-Axis Upper limit</label>
                <input type="number" id="xupper" required/>
            </div>
            <div>
                <label>Y-Axis Lower limit</label>
                <input type="number" id="ylower" required/>
            </div>
            <div>
                <label>Y-Axis Upper limit</label>
                <input type="number" id="yupper" required/>
            </div>
        </form>
        <!--button than activates the event by using the javascrip funciton-->
        <button onclick="obtainValues()">Create Table</button>
    </div>
    <div id="table"></div>


    <script>
        function obtainValues() {

            /*Obtaining string values from the input boxes*/
            var xL = document.getElementById("xlower").value;
            var xU = document.getElementById("xupper").value;
            var yL = document.getElementById("ylower").value;
            var yU = document.getElementById("yupper").value;

            /*Spend two hours on these next 4 lines. For some reason the .value function returns a string
             * even if the type of inputbox is specified as a number.
             * The worst thing was that the xL, xU, yL, yU variables DID worked on the "for" loops;
             * but it was compairing the string value and not the numerical value.
             * For example, if my horizontal values went from 1 to 10, it'd work, but when
             * it went from 2 to 10, it didn't. It took me many tests to notice the pattern :(
             * I got the tutorial on how to obtain a value from an input box from w3schools, but
             * nowhere is mentioned that if you plan to use numbers, you must convert them into numbers first
             * sigh...very fustrating :P */
            var xLower = parseInt(xL);
            var yLower = parseInt(yL);
            var xUpper = parseInt(xU);
            var yUpper = parseInt(yU);

            /*String that concatanates all four inputs */
            var decimalTest = xL + xU + yL + yU;

            /*Conditional to check if ranges are valid*/
            if (xLower > xUpper || yLower > yUpper) {
                errorRange();
            }
            /*Conditional to check if inputs contain decimals*/
            else if (decimalTest.includes(".")) {
                errorDecimal();
            }
            else if (xL == "" || xU == "" || yL == "" || yU == "" ) {
                errorEmpty();
            }
            /*If all is fine, we proceed to build the table*/
            else {
                createTable(xLower, xUpper, yLower, yUpper);
            }
        }
        /**
         * Function requires four parameters to build table
         * @param xLower lower bound of x axis
         * @param xUpper upper bound of x axis
         * @param yLower lower bound of y axis
         * @param yUpper upper bound of y axis
         * To build the table I chose between two options:
         * Use js functions like createElement() to build html object, but it was becoming to clustered
         * Use concatanation and a string to simply concatanate html tags, this was easier and way shorter
         */
        function createTable(xLower, xUpper, yLower, yUpper) {

            var table = "<table border = '1'>";

            /*Fill table horizontal header*/
            table += "<tr id='headRow'>" + "<td>" + "*" + "</td>";
            for (var i = xLower; i <= xUpper; i++) {
                table += "<td>" + i + "</td>";
            }
            table += "</tr>"

            /*Here we start filling each row. First with the corresponding vertical header value
             and then with the multiplication between the current x and y axis values*/
            for (var j = yLower; j <= yUpper; j++) {
                /*Start of each row*/
                table += "<tr>";
                table += "<td>" + j + "</td>";
                for (var i = xLower; i <= xUpper; i++) {
                    /*Add each value to the respective row*/
                    var value = i * j;
                    table += "<td>" + value + "</td>";
                }
                /*End of each row*/
                table += "</tr>";
            }
            /*We add the last tag and add the table to the div with id = table*/
            table += "</table>";
            document.getElementById("table").innerHTML = table;

        }
        /*Function notifies of invalid range error. Table is not created
         */
        function errorRange() {
            var errorMsg = "<label id='errorMsg'>";
            errorMsg += "The range you entered is invalid." + "<\label>";
            document.getElementById("table").innerHTML = errorMsg;
        }

        /*Function notifies of invalid decimal input. Table is not created
         */
        function errorDecimal() {
            var errorMsg = "<label id='errorMsg'>";
            errorMsg += "The number you entered is a decimal. Please enter integers only." + "<\label>";
            document.getElementById("table").innerHTML = errorMsg;
        }

        /*Function notifies of invalid empty input. Table is not created
         */
        function errorEmpty() {
            var errorMsg = "<label id='errorMsg'>";
            errorMsg += "Field is empty. Please enter an integer." + "<\label>";
            document.getElementById("table").innerHTML = errorMsg;
        }

    </script>



</body>
</html>